import{_ as w,r as m,c as v,a as u,w as b,o as g,p as x,d as S,b as y}from"./index-D9--w9U9.js";const d={_origin:"https://api.emailjs.com"},q=(a,e="https://api.emailjs.com")=>{d._userID=a,d._origin=e},h=(a,e,s)=>{if(!a)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class l{constructor(e){this.status=e.status,this.text=e.responseText}}const _=(a,e,s={})=>new Promise((i,o)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:t})=>{const r=new l(t);r.status===200||r.text==="OK"?i(r):o(r)}),n.addEventListener("error",({target:t})=>{o(new l(t))}),n.open("POST",d._origin+a,!0),Object.keys(s).forEach(t=>{n.setRequestHeader(t,s[t])}),n.send(e)}),E=(a,e,s,i)=>{const o=i||d._userID;return h(o,a,e),_("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:a,template_id:e,template_params:s}),{"Content-type":"application/json"})},F=a=>{let e;if(typeof a=="string"?e=document.querySelector(a):e=a,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},I=(a,e,s,i)=>{const o=i||d._userID,n=F(s);h(o,a,e);const t=new FormData(n);return t.append("lib_version","3.2.0"),t.append("service_id",a),t.append("template_id",e),t.append("user_id",o),_("/api/v1.0/email/send-form",t)},j={init:q,send:E,sendForm:I},T=a=>(x("data-v-cafcc157"),a=a(),S(),a),A={class:"send-email"},D=T(()=>u("h1",null,"Send me an email",-1)),L=y('<label for="from_name" data-v-cafcc157>Your Name</label><input type="text" id="from_name" name="from_name" required data-v-cafcc157><label for="from_email" data-v-cafcc157>Your Email</label><input type="email" id="from_email" name="from_email" required data-v-cafcc157><label for="message" data-v-cafcc157>Message</label><textarea id="message" name="message" required data-v-cafcc157></textarea><button type="submit" data-v-cafcc157>Send</button>',7),V=[L],p="6LdJbBMqAAAAADQdzuxd6NktdKhqlYRpOF-XGOrG",k={__name:"SendEmailView",setup(a){const e=m(""),s=m(null),i=()=>new Promise((t,r)=>{if(window.grecaptcha&&window.grecaptcha.execute)t();else{const c=document.createElement("script");c.src=`https://www.google.com/recaptcha/api.js?render=${p}`,c.onload=()=>t(),c.onerror=f=>r(f),document.head.appendChild(c)}}),o=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),n=async()=>{try{await i(),window.grecaptcha.ready(async()=>{const t=await window.grecaptcha.execute(p,{action:"submit"}),r=document.createElement("input");r.type="hidden",r.name="g-recaptcha-response",r.value=t,s.value.appendChild(r),o(e.value),j.sendForm("service_5dxjprm","template_pxqf0m3",s.value,"L5ZKg7kP0x3l6xYqK").then(()=>{alert("Your email has been sent. I will get back to you as soon as possible."),s.value.reset()},c=>{alert("FAILED...",c.text),s.value.reset()})})}catch(t){console.error("Failed to load reCAPTCHA:",t)}};return(t,r)=>(g(),v("div",A,[D,u("form",{onSubmit:b(n,["prevent"]),ref_key:"form",ref:s},V,544)]))}},M=w(k,[["__scopeId","data-v-cafcc157"]]);export{M as default};
