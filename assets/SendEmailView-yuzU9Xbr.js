import{_ as h,r as _,c as f,b as l,w as b,o as w,p as v,e as g,d as x}from"./index-DsAJzsUG.js";const c={_origin:"https://api.emailjs.com"},S=(t,e="https://api.emailjs.com")=>{c._userID=t,c._origin=e},p=(t,e,o)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class d{constructor(e){this.status=e.status,this.text=e.responseText}}const u=(t,e,o={})=>new Promise((n,s)=>{const r=new XMLHttpRequest;r.addEventListener("load",({target:a})=>{const i=new d(a);i.status===200||i.text==="OK"?n(i):s(i)}),r.addEventListener("error",({target:a})=>{s(new d(a))}),r.open("POST",c._origin+t,!0),Object.keys(o).forEach(a=>{r.setRequestHeader(a,o[a])}),r.send(e)}),y=(t,e,o,n)=>{const s=n||c._userID;return p(s,t,e),u("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:t,template_id:e,template_params:o}),{"Content-type":"application/json"})},q=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},E=(t,e,o,n)=>{const s=n||c._userID,r=q(o);p(s,t,e);const a=new FormData(r);return a.append("lib_version","3.2.0"),a.append("service_id",t),a.append("template_id",e),a.append("user_id",s),u("/api/v1.0/email/send-form",a)},I={init:S,send:y,sendForm:E},F=t=>(v("data-v-1ca8115b"),t=t(),g(),t),j={class:"send-email"},T=F(()=>l("h1",null,"Send me an email",-1)),A=x('<label for="from_name" data-v-1ca8115b>Your Name</label><input type="text" id="from_name" name="from_name" required data-v-1ca8115b><label for="from_email" data-v-1ca8115b>Your Email</label><input type="email" id="from_email" name="from_email" required data-v-1ca8115b><label for="message" data-v-1ca8115b>Message</label><textarea id="message" name="message" required data-v-1ca8115b></textarea><button type="submit" data-v-1ca8115b>Send</button>',7),D=[A],m="6LdJbBMqAAAAADQdzuxd6NktdKhqlYRpOF-XGOrG",L={__name:"SendEmailView",setup(t){const e=_(null),o=()=>new Promise((s,r)=>{if(window.grecaptcha&&window.grecaptcha.execute)s();else{const a=document.createElement("script");a.src=`https://www.google.com/recaptcha/api.js?render=${m}`,a.onload=()=>s(),a.onerror=i=>r(i),document.head.appendChild(a)}}),n=async()=>{try{await o(),window.grecaptcha.ready(async()=>{const s=await window.grecaptcha.execute(m,{action:"submit"}),r=document.createElement("input");r.type="hidden",r.name="g-recaptcha-response",r.value=s,e.value.appendChild(r),I.sendForm("service_5dxjprm","template_pxqf0m3",e.value,"L5ZKg7kP0x3l6xYqK").then(()=>{alert("Your email has been sent. I will get back to you as soon as possible."),e.value.reset()},a=>{alert("FAILED...",a.text),e.value.reset()})})}catch(s){console.error("Failed to load reCAPTCHA:",s)}};return(s,r)=>(w(),f("div",j,[T,l("form",{onSubmit:b(n,["prevent"]),ref_key:"form",ref:e},D,544)]))}},C=h(L,[["__scopeId","data-v-1ca8115b"]]);export{C as default};
